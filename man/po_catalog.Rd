% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simplified_api.R
\name{po_catalog}
\alias{po_catalog}
\title{Get searchable catalog of Peru open data with smart loading}
\usage{
po_catalog(
  refresh = FALSE,
  verbose = TRUE,
  target_size = NULL,
  extend_existing = FALSE
)
}
\arguments{
\item{refresh}{Logical. Force refresh of cached catalog (default FALSE)}

\item{verbose}{Logical. Show progress messages (default TRUE)}

\item{target_size}{Integer. Number of datasets to fetch (default NULL = try all 3954)}

\item{extend_existing}{Logical. Add more data to existing catalog (default FALSE)}
}
\value{
A list containing:
\describe{
\item{datasets}{Tibble with all datasets and summary information}
\item{resources}{Tibble with all resources linked to parent datasets}
\item{summary}{List with catalog statistics and metadata}
}
}
\description{
Downloads and returns a catalog of datasets and resources from Peru's open
data portal. Uses intelligent chunked loading to handle API limitations.
Can get partial or complete catalogs based on target size.
}
\examples{
\dontrun{
# Get a working subset (1000-1500 datasets)
catalog <- po_catalog(target_size = 1500)

# Get more coverage progressively
catalog <- po_catalog(target_size = 2500)

# Try to get everything (may timeout)
catalog <- po_catalog()

# Extend existing catalog with more data
more_catalog <- po_catalog(target_size = 3000, extend_existing = TRUE)

# Find all CSV files under 50MB
csv_files <- catalog$resources \%>\%
  filter(format == "CSV", size_mb < 50)

# Find datasets by organization
minsa_data <- catalog$datasets \%>\%
  filter(grepl("MINSA", organization))
}
}
